<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors" />
    <meta name="generator" content="Jekyll v3.8.5" />
    <title>Devices Registration</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.3/examples/album/" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous" />
    <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> -->
    <!-- <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script> -->
    <!-- <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"> -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"></link> -->
    <!-- Bootstrap core CSS -->
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>
    <!-- Custom styles for this template -->
    <link href="documents.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
        integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
        crossorigin="anonymous"></script>
</head>

<body>
    <header>
        <div class="collapse bg-dark" id="navbarHeader">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 col-md-7 py-4">
                        <h4 class="text-white">About</h4>
                        <p class="text-muted">
                            Add some information about the album below, the author, or any
                            other background context. Make it a few sentences long so folks
                            can pick up some informative tidbits. Then, link them off to
                            some social networking sites or contact information.
                        </p>
                    </div>
                    <div class="col-sm-4 offset-md-1 py-4">
                        <h4 class="text-white">Contact</h4>
                        <ul class="list-unstyled">
                            <li><a href="#" class="text-white">Follow on Twitter</a></li>
                            <li><a href="#" class="text-white">Like on Facebook</a></li>
                            <li><a href="#" class="text-white">Email me</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="navbar navbar-dark bg-primary shadow-sm">
            <div class="container d-flex justify-content-between">
                <div class="navbar-nav d-flex flex-row gap-3">
                    <a href="#" class="navbar-brand d-flex align-items-center">
                        <strong>Tessolve Demo</strong>
                    </a>
                    <!-- <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                Select Version
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">V1.0.0</a></li>
                                <li><a class="dropdown-item" href="#">V1.0.1</a></li>
                                <li><a class="dropdown-item" href="#">V1.1.0</a></li>
                            </ul>
                        </li>
                    </ul> -->
                </div>

                <div class="">
                    <ul class="navbar-nav d-flex flex-row gap-3">
                        <li class="nav-item">
                            <a href="index.html" class="nav-link">Version</a>
                        </li>
                        <li class="nav-item">
                            <a href="documents.html" class="nav-link active">Documentation</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <main role="main">
        <section class="doc_container">
            <div class="doc_content">
                <div class="container">
                    <h3 id="aws-iot-greengrass-installation-on-terabox-gateway" class="text-muted">AWS IoT Greengrass
                        Installation on Terabox Gateway</h3>
                    <p>The following guide provides the detailed installation procedure of AWS IoT Greengrass V2 Core
                        software on Terabox Gateway. </p>
                    <!-- <h5 id="-automatic-provison-installing-through-terminal-commands-"><a href="#installing-through-terminal-commands"><strong>Automatic Provison</strong></a></h5>
                <h5 id="-manual-provison-installing-through-aws-iam-console-"><a href="#installing-through-aws-iam-console"><strong>Manual Provison</strong></a></h5>
                <h5 id="-pre-requisites-pre-requisites-"><a href="#pre-requisites"><strong>Pre-requisites</strong></a></h5> -->
                <h5>Pre-requisites</h5>
                    <p>To install AWS Greengrass on device, below pre-requisites has to be installed on the device</p>
                    <ul>
                        <li>An AWS account. If you don&#39;t have one, please follow <a
                                href="https://docs.aws.amazon.com/greengrass/v2/developerguide/getting-started.html#getting-started-set-up-aws-account"><strong>Setup
                                    AWS Account</strong></a> for creating an aws account</li>
                        <li>AWS region which supports Greengrass V2. Please see <a
                                href="https://docs.aws.amazon.com/general/latest/gr/greengrassv2.html"><strong>AWS IoT
                                    Greengrass V2 endpoints and quotas</strong></a> in the AWS General Reference for the
                            list of supported regions.</li>
                        <li>An AWS Identity and Access Management (IAM) User with Administirtator privilages. Please see
                            <a href="#creating-an-iam-role"><strong class="text-muted" style="color:gray ;">creating an
                                    IAM role</strong></a> </li>
                        <li>Terabox Gateway for installing Greengrass software</li>
                        <li>Python3.6 or greater version</li>
                        <li>AWS CLI. Follow the instructions <a
                                href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html"><strong>aws
                                    cli</strong></a> if not installed</li>
                    </ul>
                    <!-- <p>This guide contains 2 methods to provision the device under
                        Greengrass V2 resources Group</p> -->
                    <h5 id="creating-an-iam-role">Creating an IAM Role</h5>
                    <ol>
                        <li>
                            <p>Sign in to the <a href="https://console.aws.amazon.com/iam/"><strong>IAM
                                        console</strong></a> as the account owner by choosing Root user and entering
                                your AWS account email address. On the next page, enter your password.</p>
                        </li>
                        <li>
                            <p>In the navigation pane, choose <strong>Users</strong> and then choose <strong>Add
                                    users</strong>.</p>
                        </li>
                        <li>
                            <p>For User name, enter the desired name. For example, <strong>GreengrassProv</strong></p>
                        </li>
                        <li>
                            <p>Select the check box next to <strong>Access Key Progrmatic Access</strong>. </p>
                        </li>
                        <li>
                            <p>Choose <strong>Next: Permissions</strong>.</p>
                        </li>
                        <li>
                            <p>Under Set permissions, choose <strong>Attach Existing Policies Directly</strong>. Filter
                                the desired policies from the list. Select following policies from the menu</p>
                            <ul>
                                <li>IoT FullAccess</li>
                                <li>S3 FullAccess</li>
                                <li>Greengrass FullAccess</li>
                                <li>IAM FullAccess</li>
                            </ul>
                        </li>
                        <li>
                            <p>Choose <strong>Next: Tags</strong> and then <strong>Next: Preview</strong>.</p>
                        </li>
                        <li>choose <strong>Create user</strong>.</li>
                        <li>Download the <strong>AWS Security credentials</strong> from the next window. These
                            credentials are required for setting up Greengrass core on the Terabox.</li>
                    </ol>
                    <h2 id="installing-greengrass-core-software-on-terabox">Installing Greengrass Core Software on
                        Terabox</h2>
                    <p>AWS IoT Greengrass Core can be installed on the Terabox using 2 ways.
                        User can choose any of the below two methods as per their convenience,
                        if user is familiar with AWS,
                        they can choose using IAM Console procedure else can follow the Terminal Command procedure.
                    </p>
                    <h5 id="installing-through-aws-iam-console">
                        <strong>Installing Through AWS IAM Console</strong>
                    </h5>
                    <ol>
                        <li id="Preparing-the-Terabox">Preparing the Terabox
                            <ul>
                                <li>Create the default system user and group that runs components on your device. 
                                        <div class="doc_code">
                                            <button class="copy_button fa fa-clipboard" onclick="copyText(`IamConsole`)"></button>
                                        <code class="code_content" id="IamConsole">
                                           sudo useradd --system --create-home ggc_user </br>
                                           sudo groupadd --system ggc_group </br>
                                           sudo usermod -aG docker idt_ggc_user </br>
                                           sudo visudo </br>
                                           root ALL=(ALL:ALL) ALL </br>
                                       </code>
                                        </div>
                                </li>
                          </ul>
                    </li>
                <li id="Provide-AWS-Credentials-to-Terabox">Provide AWS Credentials to Terabox
                    <ul>
                        <li>Copy the <strong>ACCESS_KEY</strong> &amp; <strong>SECURITY_ID</strong> from <strong>csv
                                file</strong> downloaded from the <strong>Pre-requisites</strong> step and export as
                               environment variables
                            
                                <div class="doc_code">
                                    <button class="copy_button fa fa-clipboard" onclick="copyText(`accessKey`)"></button>
                                    <code  class="code_content" id="accessKey">
                                        export AWS_ACCESS_KEY_ID= "ACCESS-KEY" </br>
                                        export AWS_SECRET_ACCESS_KEY= "SECURITY-ACCESS-KEY"
                                    </code>
                                </div>
                
                        </li>
                    </ul>
                </li>
                <li>Setting up Environment for Greengrass</li>
                <ul>
                    <li>Java runtime has to be installed on the Terabox to install Greengrass core SDK. </li>
                    <li>SSH to Terabox and run the following command
                    
                    <div class="doc_code">
                        <button class="copy_button fa fa-clipboard" onclick="copyText(`installJdk`)"></button>
                        <code  class="code_content" id="installJdk">
                            sudo apt-get install default-jdk
                        </code>
                    </div>
                
                    </li>
                    <li>This will install Latest version of Java runtime on to Terabox</li>
                </ul>
                </li>
                <li id="Installing-Greengrass-core-in-Terabox">Installing Greengrass core in Terabox </li>
                <ul>
                    <li>Sign in to the <a href="https://console.aws.amazon.com/iam/"><strong>IAM console</strong></a> as
                        the account owner by choosing Root user and entering your AWS account email address. On the next
                        page, enter your password.</li>
                    <li>Choose <strong>IoT Greengrass</strong> from the search menu</li>
                    <li>Choose <strong>Setup One Core Device</strong> in the next page. </li>
                    <li>Provide <strong>Core device name</strong> in Step-1 or keep the automatically generated name by
                        AWS</li>
                    <li>Provide <strong>Thing Group Name</strong> by creating a new group or assign to an existing group
                    </li>
                    <li>Select the Operating system. Terabox runs on <strong>Linux</strong>. So, select
                        <strong>Linux</strong>.</li>
                    <li>
                        <p>Copy the <strong>curl</strong> command mentioned under <strong>Download the
                                Installer</strong> section and run on Terabox</p>
                        <div class="doc_code">
                    <button class="copy_button fa fa-clipboard" onclick="copyText(`GreengrassInstaller`)"></button>

                    <code id="GreengrassInstaller" class="code_content">
                        cd /opt/aws  </br>
                        curl -s https://d2s8p88vqu9w66.cloudfront.net/releases/greengrass-nucleus-latest.zip > greengrass-nucleus-latest.zip && unzip greengrass-nucleus-latest.zip -d GreengrassInstaller                    
                    </code>
                </div>
                    </li>
                    <li>
                        <p>Copy the <strong>installer</strong> command in <strong>Run the Installer</strong> section and
                            execute on Terabox</p>
                        <div class="doc_code">
                    <button class="copy_button fa fa-clipboard" onclick="copyText(`greengrass`)"></button> 
                    <code class="code_content" id="greengrass">
                        cd /opt/aws </br>
                        sudo -E java -Droot="/opt/aws/greengrass/v2" \ </br>
                        -Dlog.store=FILE -jar ./GreengrassInstaller/lib/Greengrass.jar\ </br>
                        --aws-region us-east-1 \ </br>
                        --thing-name GreengrassQuickStartCore-183270afee6 \ </br>
                        --thing-group-name GreengrassQuickStartGroup \ </br>
                        --component-default-user ggc_user:ggc_group \ </br>
                        --provision true \ </br>
                        --setup-system-service true \ </br>
                        --deploy-dev-tools true  </br>
                    </code>
                </div>
                    </li>
                    <li>This will take sometime to install AWS IoT Greengrass Core software on Terabox</li>
                </ul>
                </li>
                <li>Verifying the Installation<ul>
                        <li>Once the greengrass core software is installed successfully, it will create a systemd
                            service.</li>
                        <li>To check the status of the service</li>
                        <div class="doc_code">
                    <button class="copy_button fa fa-clipboard" onclick="copyText(`greengrassStatus`)"></button> 
                    <code class="code_content" id="greengrassStatus">sudo service greengrass status
                    </code>
                </div>
                        <li>To view the log messages of the AWS IoT Greengrass Core software</li>
                        <div class="doc_code">
                    <button class="copy_button fa fa-clipboard" onclick="copyText(`greengrassService`)"></button> 
                    <code class="code_content" id="greengrassService">sudo journalctl -u greengrass.service -f
                    </code>
                </div>
                    </ul>
                </li>
                </ol>
                <h5 id="installing-through-terminal-commands"><strong>Installing Through Terminal Commands</strong>
                </h5>
                <ol>
                    <li>Follow Steps 1,2,3 mentioned in <a href="#installing-through-aws-iam-console"><strong>Installing
                                Through AWS IAM Console</strong></a> for installing the dependencies and setting up the
                        environment</li>
                    <li id="download-the-Greengrass-into-Terabox">Exceute the following command which will download the Greengrass into Terabox</li>
                    <div class="doc_code">
                        <button class="copy_button fa fa-clipboard" onclick="copyText(`GreengrassInstaller`)"></button>
    
                        <code id="GreengrassInstaller" class="code_content">
                            cd /opt/aws  </br>
                            curl -s https://d2s8p88vqu9w66.cloudfront.net/releases/greengrass-nucleus-latest.zip > greengrass-nucleus-latest.zip && unzip greengrass-nucleus-latest.zip -d GreengrassInstaller                    
                        </code>
                    </div>

                    <li id="install-the-Greengrass-into-Terabox">Execute the following command which will install the Greengrass into Terabox</li>
                    <div class="doc_code">
                        <button class="copy_button fa fa-clipboard" onclick="copyText(`greengrass`)"></button> 
                        <code class="code_content" id="greengrass">
                            cd /opt/aws </br>
                            sudo -E java -Droot="/opt/aws/greengrass/v2" \ </br>
                            -Dlog.store=FILE -jar ./GreengrassInstaller/lib/Greengrass.jar\ </br>
                            --aws-region us-east-1 \ </br>
                            --thing-name GreengrassQuickStartCore-183270afee6 \ </br>
                            --thing-group-name GreengrassQuickStartGroup \ </br>
                            --component-default-user ggc_user:ggc_group \ </br>
                            --provision true \ </br>
                            --setup-system-service true \ </br>
                            --deploy-dev-tools true  </br>
                        </code>
                    </div>

                    <li>Repeat Step 5 from <a href="#installing-through-aws-iam-console"><strong>Installing Through AWS
                                IAM Console</strong></a> for verifying the installation &amp; checking the logs.</li>
                </ol>

            </div>
            </div>
            <div class="doc_sidebar">
                <ul class="navbar-nav">
                    <li>
                        <strong>Table of contents</strong>
                    </li>
                    <li class="nav-item">
                        <a href="#aws-iot-greengrass-installation-on-terabox-gateway" class="nav-link">
                            Pre-requisites</a>
                    </li>
                    <li class="nav-item">
                        <a href="#creating-an-iam-role" class="nav-link">Creating an Iam Role</a>
                    </li>
                    <li class="nav-item">
                        <a href="#Preparing-the-Terabox" class="nav-link">Prepare the Terabox Gateway</a>
                    </li>
                    <li class="nav-item">
                        <a href="#Provide-AWS-Credentials-to-Terabox" class="nav-link">Provide AWS credentials to the Terabox</a>
                    </li>
                    <li class="nav-item">
                        <a href="#installing-through-aws-iam-console" class="nav-link">Installing Through AWS IAM
                            Console</a>
                            <ul class="subitem-nav-bar">
                                <li  class="nav-item">
                                     <a href="#Installing-Greengrass-core-in-Terabox" class="nav-link">
                                        Download AWS IoT Greengrass Core software
                                    </a>
                                </li>
                                <li  class="nav-item">
                                    <a href="#Installing-Greengrass-core-in-Terabox" class="nav-link">
                                        Install AWS IoT Greengrass Core software
                                   </a>
                               </li>
                            </ul>
                    </li>
                    <li class="nav-item">
                        <a href="#installing-through-terminal-commands" class="nav-link">Installing Through Terminal
                            Commands</a>
                            <ul class="subitem-nav-bar">
                                <li  class="nav-item">
                                    <a href="#download-the-Greengrass-into-Terabox" class="nav-link">
                                       Download AWS IoT Greengrass Core software
                                   </a>
                               </li>
                               <li  class="nav-item">
                                   <a href="#install-the-Greengrass-into-Terabox" class="nav-link">
                                       Install AWS IoT Greengrass Core software
                                  </a>
                              </li>
                            </ul>
                    </li>
                </ul>
            </div>
        </section>
    </main>

    <footer class="text-white bg-dark">
        <div class="container d-flex flex-column  gap-3" style="padding: 10px;">
            <p class="float-left">
                <a href="index.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-activity">
                        <line x1="20" y1="12" x2="4" y2="12"></line>
                        <polyline points="10 18 4 12 10 6"></polyline>
                    </svg>
                    Go to select Version
                </a>
            </p>

            Copyright © 2022 Tessolve and/or its affiliates
            </p>
        </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script>
        window.jQuery ||
            document.write(
                '<script src="/docs/4.3/assets/js/vendor/jquery-slim.min.js"><\/script>'
            );
    </script>
    <script src="/docs/4.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
        crossorigin="anonymous"></script>

    <!-- Custom javaScript -->
    <script>
        function copyText(value) {
            // console.log("Copied text",value);
            var Text = document.getElementById(value).innerText;
            // Text.select();
            navigator.clipboard.writeText(Text);
            console.log("Text", Text)
        }
    </script>
</body>

</html>